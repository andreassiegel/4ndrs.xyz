<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Andreas Siegel"><meta name=description content="some guy passionate about IT and other things"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using Hammerspoon to automatically set Slack Status when in Zoom Meeting"><meta name=twitter:description content="This year, online communication definitely is on a rise, and there is a wide variety of tools for that. Two of them are Slack and Zoom.
Slack is probably the best tool for instant messaging. Quite a while ago, they introduced a pretty cool feature already known from instant messaging: In addition to just indicating your presence (active/online or away/offline), you can set also set your status to whatever you like, including some icon or emoticon shown right next to your name."><meta property="og:title" content="Using Hammerspoon to automatically set Slack Status when in Zoom Meeting"><meta property="og:description" content="This year, online communication definitely is on a rise, and there is a wide variety of tools for that. Two of them are Slack and Zoom.
Slack is probably the best tool for instant messaging. Quite a while ago, they introduced a pretty cool feature already known from instant messaging: In addition to just indicating your presence (active/online or away/offline), you can set also set your status to whatever you like, including some icon or emoticon shown right next to your name."><meta property="og:type" content="article"><meta property="og:url" content="https://4ndrs.xyz/posts/slack-status-zoom-meeting/"><meta property="article:published_time" content="2020-11-28T10:15:03+01:00"><meta property="article:modified_time" content="2020-11-28T10:15:03+01:00"><base href=https://4ndrs.xyz/posts/slack-status-zoom-meeting/><title>Using Hammerspoon to automatically set Slack Status when in Zoom Meeting · 4ndrs.xyz</title><link rel=canonical href=https://4ndrs.xyz/posts/slack-status-zoom-meeting/><link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel=stylesheet><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.11.2/css/all.css integrity=sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous><link rel=stylesheet href=https://4ndrs.xyz/css/coder.min.365fc6d23b8b25f2390eead64f5fb2e5b371942dc4ba4f105deb7dd6962de016.css integrity="sha256-Nl/G0juLJfI5DurWT1+y5bNxlC3Euk8QXet91pYt4BY=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=https://4ndrs.xyz/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://4ndrs.xyz/images/favicon-16x16.png sizes=16x16><meta name=generator content="Hugo 0.69.0"></head><body class=colorscheme-light><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://4ndrs.xyz/>4ndrs.xyz</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fas fa-bars"></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://4ndrs.xyz/about/>About</a></li><li class=navigation-item><a class=navigation-link href=https://4ndrs.xyz/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=https://4ndrs.xyz/categories/>Categories</a></li><li class=navigation-item><a class=navigation-link href=https://4ndrs.xyz/contact/>Contact me</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title>Using Hammerspoon to automatically set Slack Status when in Zoom Meeting</h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fas fa-calendar"></i><time datetime=2020-11-28T10:15:03+01:00>November 28, 2020</time></span>
<span class=reading-time><i class="fas fa-clock"></i>5-minute read</span></div><div class=categories><i class="fas fa-folder"></i><a href=https://4ndrs.xyz/categories/tips-tricks/>Tips & Tricks</a></div><div class=tags><i class="fas fa-tag"></i><a href=https://4ndrs.xyz/tags/hammerspoon/>hammerspoon</a>
<span class=separator>•</span>
<a href=https://4ndrs.xyz/tags/slack/>slack</a>
<span class=separator>•</span>
<a href=https://4ndrs.xyz/tags/zoom/>zoom</a>
<span class=separator>•</span>
<a href=https://4ndrs.xyz/tags/chat/>chat</a>
<span class=separator>•</span>
<a href=https://4ndrs.xyz/tags/call/>call</a>
<span class=separator>•</span>
<a href=https://4ndrs.xyz/tags/conferencing/>conferencing</a>
<span class=separator>•</span>
<a href=https://4ndrs.xyz/tags/status/>status</a>
<span class=separator>•</span>
<a href=https://4ndrs.xyz/tags/automation/>automation</a>
<span class=separator>•</span>
<a href=https://4ndrs.xyz/tags/mac/>mac</a></div></div></header><div><p>This year, online communication definitely is on a rise,
and there is a wide variety of tools for that. Two of them are Slack and Zoom.</p><p><a href=https://slack.com/>Slack</a> is probably the best tool for instant messaging.
Quite a while ago, they introduced a pretty cool feature already known from instant messaging:
In addition to just indicating your presence (active/online or away/offline),
you can set also set your status to whatever you like, including some icon or emoticon shown right next to your name.
Probably the best thing about that was introduced a little later, as far as I remember:</p><p>Whenever you are on a (Slack) call, a special icon is displayed to indicate exactly that.
Unfortunately, calls in Slack recently really became a pain, mostly because poor quality, and high resource and bandwidth consumption.
A colleague of mine recently noticed that every participant in a meeting took another 1 MBit.
So it was no surprise he was not able to join our team calls from home anymore.
Besides that, Slack has a lack of features as well, e.g.,
when in a call, you can either share your screen <strong>or</strong> use your webcam.</p><p><a href=https://zoom.us/>Zoom</a> is much better in all of that:
It has good quality in calls, and a lot of great features for online conferencing.</p><p>However, people in Slack will not see when you are in a meeting/call (like they do for Slack calls), and, therefore,
might not be able to respond to their messages in a timely manner &ndash; and even worse:
They do not see you are not available for a quick call.</p><p>If just there was a way to update your Slack status when you are in a Zoom meeting&mldr;
Automation to the rescue!</p><h2 id=automation-via-hammerspoon>Automation via Hammerspoon</h2><p><a href=https://www.hammerspoon.org/>Hammerspoon</a> is here to help with that, at least on MacOS.
It is a tool for powerful automation which is basically based on a bridge between the operating system and a Lua scripting engine.</p><p>Its power comes from extensions that expose specific pieces of system functionality to the user.</p><p>You can write Lua code to interact with all kinds of APIs of the operating system, e.g., for applications, windows, mouse pointers, filesystem objects, audio devices, batteries, screens, low-level keyboard/mouse events, clipboards, and more.</p><p>Hammerspoon can easily be installed via <a href=https://brew.sh/>Homebrew</a>:</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ brew install hammerspoon
</code></pre></div><p>Afterwards, make sure to add it to the allowed tools for <em>Accessibility</em> in the <em>Security & Privacy</em> settings.
Usually, Hammerspoon should ask you to grant permission when you first launch it.
Also, it will ask you to grant access to documents so that it can read Lua scripts.</p><p>Now, let us find a way to make use of that to update the Slack status when we are in Zoom.</p><h2 id=slack-status-updater>Slack Status Updater</h2><p><a href=https://www.mharrison.org/>Mark Harrison</a> created a script that can be used for that.
You find it on GitHub: <a href=https://github.com/mivok/slack_status_updater>mivok/slack_status_updater</a></p><p>It comes with batteries included and is ready to be used with Hammerspoon:
There already is a <a href=https://github.com/mivok/slack_status_updater/blob/master/helpers/zoom_detect.lua>Lua helper script to detect Zoom meetings</a>.</p><p>Use the below snippet to clone the repository, copy the Lua script to Hammerspoon and initialize it:</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ git clone git@github.com:mivok/slack_status_updater.git
$ cp slack_status_updater/helpers/zoom_detect.lua ~/.hammerspoon/
$ <span style=color:#007020>echo</span> <span style=color:#4070a0>&#34;local zoom_detect = require(\&#34;zoom_detect\&#34;)&#34;</span> &gt;&gt; ~/.hammerspoon/init.lua
</code></pre></div><p>In addition to that, make sure <code>slack_status.sh</code> is in your <code>$PATH</code>, e.g.,
by adding the cloned repository (assuming you are still in the same directory) to your <code>.zshrc</code> or <code>.bashrc</code> (or whatever you use):</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#007020>echo</span> <span style=color:#4070a0>&#34;export PATH=&#34;</span><span style=color:#007020;font-weight:700>$(</span><span style=color:#007020>pwd</span><span style=color:#007020;font-weight:700>)</span><span style=color:#4070a0>&#34;/slack_status_updater:\$PATH&#34;</span> &gt;&gt; ~/.zshrc
</code></pre></div><p>Now, you are ready to configure the script:</p><ol><li><a href=https://api.slack.com/apps/new>Create a new Slack app</a></li><li>Set the name to &ldquo;Slack Status Updater&rdquo; and select your workspace</li><li>In the app configuration, go to <em>OAuth and Permissions</em> and <em>User token scopes</em>, and add the scope <code>users.profile:write</code></li><li>Click <em>Install App to Workspace</em> at the top and allow the app to access your workspace in Slack</li><li>Copy the access token starting with <code>xoxp-</code> that will be shown next.</li></ol><p>With that token, set up the status updater script via this command, and follow the prompts:</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ slack_status.sh setup
</code></pre></div><p>This will create the configuration file <code>~/.slack_status.conf</code> for you.
This file will include your token and presets to update your status, for instance:</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback># vim: ft=sh
# Configuration file for slack_status
TOKEN=xoxp-11...

PRESET_EMOJI_test=&#34;:white_check_mark:&#34;
PRESET_TEXT_test=&#34;Testing status updater&#34;

PRESET_EMOJI_zoom=&#34;:zoom:&#34;
PRESET_TEXT_zoom=&#34;In a zoom meeting&#34;
</code></pre></div><p>As you can see, it will use the emoji <code>:zoom:</code> for your status by default.
However, you might not have such an icon in your workspace,
so you might have to add a custom emoji with that name, e.g., <a href=https://www.stickpng.com/img/icons-logos-emojis/video-conference-software-providers/zoom-icon-logo>this one</a>.</p><p>Afterwards, you can test this by executing this command:</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ slack_status.sh <span style=color:#007020>test</span>
</code></pre></div><p>If everything works, your status should show a checkmark now.
If also the Hammerspoon configuration is loaded successfully,
your Slack status will be set accordingly.</p><p>Nevertheless, note that the status might not get updated immediately when you join a Zoom meeting.
By default, the script to detect Zoom meetings checks that every 20 seconds
so that it might take a few seconds to update the status in Slack.</p><h2 id=webhook-based-alternative>Webhook-based Alternative</h2><p>Alternatively, you can use an alternative solution that might work on other systems than MacOS:</p><p>It uses also an app at Zoom&rsquo;s end to subscribe to events, and then use a Node.js application
to update the Slack status.</p><p>This solution requires a Vercel account.</p><p>Read more in Stefan Natter&rsquo;s article <a href=https://dev.to/natterstefan/how-to-automatically-update-your-slack-status-when-you-join-a-zoom-meeting-28e0>&ldquo;How to automatically update your Slack status when you join a Zoom meeting&rdquo; on DEV.TO</a> or check out his <a href=https://github.com/natterstefan/zoom-slack-status-updater>repository on GitHub</a>.</p><h2 id=downside-of-automation>Downside of Automation</h2><p>Nice, we saw two different approaches to updating the Slack status while being on a Zoom call.</p><p>However, keep in mind, that updating the Slack status via any kind of automation might interfere with other plugins that update your status, e.g., <a href=https://slack.com/apps/AFS3736H3-slack-for-outlook>Slack for Outlook</a>:</p><p>Usually, this add-on updates your status when you have meetings in your Outlook calendar,
i.e., it shows a calendar icon in your Slack status.
That&rsquo;s removed once the meeting (in the calendar) ends.</p><p>However, when you join a Zoom meeting, your Slack status is updated to reflect that.
When you leave the meeting, your Slack status is <em>cleared</em> &ndash; regardless of whether there was still an ongoing appointment in your Outlook calendar.</p><p>The same happens to the status you might have set manually in Slack before,
like &ldquo;Vacationing&rdquo; or &ldquo;Working remotely&rdquo;.</p></div><footer><h2>See Also</h2><ul><li><a href=https://4ndrs.xyz/posts/macos-vpn-command-line-anyconnect/>Use Cisco AnyConnect to Connect to a VPN from the Command Line on Mac OS</a></li><li><a href=https://4ndrs.xyz/posts/macos-vpn-command-line/>Connect to a VPN from the Command Line on Mac OS</a></li><li><a href=https://4ndrs.xyz/posts/multiple-tool-versions-via-homebrew/>Multiple Tool Versions via Homebrew</a></li></ul><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"4ndrs-xyz"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></footer></article></section></div><footer class=footer><section class=container>©
2017 -
2020
Andreas Siegel</section></footer></main><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-431647-14','auto');ga('send','pageview');}</script></body></html>